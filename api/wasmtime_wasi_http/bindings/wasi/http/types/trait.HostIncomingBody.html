<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `HostIncomingBody` trait in crate `wasmtime_wasi_http`."><title>HostIncomingBody in wasmtime_wasi_http::bindings::wasi::http::types - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../../../../../" data-static-root-path="../../../../../static.files/" data-current-crate="wasmtime_wasi_http" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (1388d7a06 2024-03-20)" data-channel="nightly" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../../../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../wasmtime_wasi_http/index.html">wasmtime_wasi_http</a><span class="version">21.0.0</span></h2></div><h2 class="location"><a href="#">HostIncomingBody</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.drop">drop</a></li><li><a href="#tymethod.finish">finish</a></li><li><a href="#tymethod.stream">stream</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In wasmtime_wasi_http::bindings::wasi::http::types</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../../../wasmtime_wasi_http/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../../../index.html">wasmtime_wasi_http</a>::<wbr><a href="../../../index.html">bindings</a>::<wbr><a href="../../index.html">wasi</a>::<wbr><a href="../index.html">http</a>::<wbr><a href="index.html">types</a>::<wbr><a class="trait" href="#">HostIncomingBody</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../../../src/wasmtime_wasi_http/lib.rs.html#14-45">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait HostIncomingBody {
    // Required methods
    fn <a href="#tymethod.stream" class="fn">stream</a>(
        &amp;mut self,
        self_: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;
    ) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="type" href="type.InputStream.html" title="type wasmtime_wasi_http::bindings::wasi::http::types::InputStream">InputStream</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.finish" class="fn">finish</a>(
        &amp;mut self,
        this: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;
    ) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="enum" href="../../../../body/enum.HostFutureTrailers.html" title="enum wasmtime_wasi_http::body::HostFutureTrailers">FutureTrailers</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.drop" class="fn">drop</a>(&amp;mut self, rep: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;;
}</code></pre><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.stream" class="method"><a class="src rightside" href="../../../../../src/wasmtime_wasi_http/lib.rs.html#14-45">source</a><h4 class="code-header">fn <a href="#tymethod.stream" class="fn">stream</a>(
    &amp;mut self,
    self_: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="type" href="type.InputStream.html" title="type wasmtime_wasi_http::bindings::wasi::http::types::InputStream">InputStream</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the contents of the body, as a stream of bytes.</p>
<p>Returns success on first call: the stream representing the contents
can be retrieved at most once. Subsequent calls will return error.</p>
<p>The returned <code>input-stream</code> resource is a child: it must be dropped
before the parent <code>incoming-body</code> is dropped, or consumed by
<code>incoming-body.finish</code>.</p>
<p>This invariant ensures that the implementation can determine whether
the user is consuming the contents of the body, waiting on the
<code>future-trailers</code> to be ready, or neither. This allows for network
backpressure is to be applied when the user is consuming the body,
and for that backpressure to not inhibit delivery of the trailers if
the user does not read the entire body.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.finish" class="method"><a class="src rightside" href="../../../../../src/wasmtime_wasi_http/lib.rs.html#14-45">source</a><h4 class="code-header">fn <a href="#tymethod.finish" class="fn">finish</a>(
    &amp;mut self,
    this: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="enum" href="../../../../body/enum.HostFutureTrailers.html" title="enum wasmtime_wasi_http::body::HostFutureTrailers">FutureTrailers</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Takes ownership of <code>incoming-body</code>, and returns a <code>future-trailers</code>.
This function will trap if the <code>input-stream</code> child is still alive.</p>
</div></details><section id="tymethod.drop" class="method"><a class="src rightside" href="../../../../../src/wasmtime_wasi_http/lib.rs.html#14-45">source</a><h4 class="code-header">fn <a href="#tymethod.drop" class="fn">drop</a>(&amp;mut self, rep: <a class="struct" href="../../../../../wasmtime/runtime/component/resources/struct.Resource.html" title="struct wasmtime::runtime::component::resources::Resource">Resource</a>&lt;<a class="struct" href="../../../../body/struct.HostIncomingBody.html" title="struct wasmtime_wasi_http::body::HostIncomingBody">IncomingBody</a>&gt;) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-HostIncomingBody-for-T" class="impl"><a class="src rightside" href="../../../../../src/wasmtime_wasi_http/types_impl.rs.html#688-717">source</a><a href="#impl-HostIncomingBody-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="../../../../types/trait.WasiHttpView.html" title="trait wasmtime_wasi_http::types::WasiHttpView">WasiHttpView</a>&gt; <a class="trait" href="trait.HostIncomingBody.html" title="trait wasmtime_wasi_http::bindings::wasi::http::types::HostIncomingBody">HostIncomingBody</a> for T</h3></section></div><script src="../../../../../trait.impl/wasmtime_wasi_http/bindings/wasi/http/types/trait.HostIncomingBody.js" async></script></section></div></main></body></html>