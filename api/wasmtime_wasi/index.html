<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Wasmtime’s WASI Implementation"><title>wasmtime_wasi - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="wasmtime_wasi" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (1388d7a06 2024-03-20)" data-channel="nightly" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../wasmtime_wasi/index.html">wasmtime_wasi</a><span class="version">21.0.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../wasmtime_wasi/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">wasmtime_wasi</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/wasmtime_wasi/lib.rs.html#1-404">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="wasmtimes-wasi-implementation"><a class="doc-anchor" href="#wasmtimes-wasi-implementation">§</a>Wasmtime’s WASI Implementation</h2>
<p>This crate provides a Wasmtime host implementation of WASI 0.2 (aka WASIp2
aka Preview 2) and WASI 0.1 (aka WASIp1 aka Preview 1). WASI is implemented
with the Rust crates <a href="https://crates.io/crates/tokio"><code>tokio</code></a> and <a href="https://crates.io/crates/cap-std"><code>cap-std</code></a> primarily, meaning that
operations are implemented in terms of their native platform equivalents by
default.</p>
<p>For components and WASIp2, continue reading below. For WASIp1 and core
modules, see the <a href="preview1/index.html" title="mod wasmtime_wasi::preview1"><code>preview1</code></a> module documentation.</p>
<h2 id="wasip2-interfaces"><a class="doc-anchor" href="#wasip2-interfaces">§</a>WASIp2 interfaces</h2>
<p>This crate contains implementations of the following interfaces:</p>
<ul>
<li><a href="bindings/cli/environment/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::environment::Host"><code>wasi:cli/environment</code></a></li>
<li><a href="bindings/cli/exit/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::exit::Host"><code>wasi:cli/exit</code></a></li>
<li><a href="bindings/cli/stderr/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::stderr::Host"><code>wasi:cli/stderr</code></a></li>
<li><a href="bindings/cli/stdin/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::stdin::Host"><code>wasi:cli/stdin</code></a></li>
<li><a href="bindings/cli/stdout/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::stdout::Host"><code>wasi:cli/stdout</code></a></li>
<li><a href="bindings/cli/terminal_input/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::terminal_input::Host"><code>wasi:cli/terminal-input</code></a></li>
<li><a href="bindings/cli/terminal_output/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::terminal_output::Host"><code>wasi:cli/terminal-output</code></a></li>
<li><a href="bindings/cli/terminal_stderr/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::terminal_stderr::Host"><code>wasi:cli/terminal-stderr</code></a></li>
<li><a href="bindings/cli/terminal_stdin/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::terminal_stdin::Host"><code>wasi:cli/terminal-stdin</code></a></li>
<li><a href="bindings/cli/terminal_stdout/trait.Host.html" title="trait wasmtime_wasi::bindings::cli::terminal_stdout::Host"><code>wasi:cli/terminal-stdout</code></a></li>
<li><a href="bindings/clocks/monotonic_clock/trait.Host.html" title="trait wasmtime_wasi::bindings::clocks::monotonic_clock::Host"><code>wasi:clocks/monotonic-clock</code></a></li>
<li><a href="bindings/clocks/wall_clock/trait.Host.html" title="trait wasmtime_wasi::bindings::clocks::wall_clock::Host"><code>wasi:clocks/wall-clock</code></a></li>
<li><a href="bindings/filesystem/preopens/trait.Host.html" title="trait wasmtime_wasi::bindings::filesystem::preopens::Host"><code>wasi:filesystem/preopens</code></a></li>
<li><a href="bindings/filesystem/types/trait.Host.html" title="trait wasmtime_wasi::bindings::filesystem::types::Host"><code>wasi:filesystem/types</code></a></li>
<li><a href="bindings/io/error/trait.Host.html" title="trait wasmtime_wasi::bindings::io::error::Host"><code>wasi:io/error</code></a></li>
<li><a href="bindings/io/poll/trait.Host.html" title="trait wasmtime_wasi::bindings::io::poll::Host"><code>wasi:io/poll</code></a></li>
<li><a href="bindings/io/streams/trait.Host.html" title="trait wasmtime_wasi::bindings::io::streams::Host"><code>wasi:io/streams</code></a></li>
<li><a href="bindings/random/insecure_seed/trait.Host.html" title="trait wasmtime_wasi::bindings::random::insecure_seed::Host"><code>wasi:random/insecure-seed</code></a></li>
<li><a href="bindings/random/insecure/trait.Host.html" title="trait wasmtime_wasi::bindings::random::insecure::Host"><code>wasi:random/insecure</code></a></li>
<li><a href="bindings/random/random/trait.Host.html" title="trait wasmtime_wasi::bindings::random::random::Host"><code>wasi:random/random</code></a></li>
<li><a href="bindings/sockets/instance_network/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::instance_network::Host"><code>wasi:sockets/instance-network</code></a></li>
<li><a href="bindings/sockets/ip_name_lookup/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::ip_name_lookup::Host"><code>wasi:sockets/ip-name-lookup</code></a></li>
<li><a href="bindings/sockets/network/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::network::Host"><code>wasi:sockets/network</code></a></li>
<li><a href="bindings/sockets/tcp_create_socket/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::tcp_create_socket::Host"><code>wasi:sockets/tcp-create-socket</code></a></li>
<li><a href="bindings/sockets/tcp/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::tcp::Host"><code>wasi:sockets/tcp</code></a></li>
<li><a href="bindings/sockets/udp_create_socket/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::udp_create_socket::Host"><code>wasi:sockets/udp-create-socket</code></a></li>
<li><a href="bindings/sockets/udp/trait.Host.html" title="trait wasmtime_wasi::bindings::sockets::udp::Host"><code>wasi:sockets/udp</code></a></li>
</ul>
<p>All traits are implemented in terms of a <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a> trait which provides
basic access to <a href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx"><code>WasiCtx</code></a>, configuration for WASI, and <a href="../wasmtime/runtime/component/resource_table/struct.ResourceTable.html" title="struct wasmtime::runtime::component::resource_table::ResourceTable"><code>ResourceTable</code></a>,
the state for all host-defined component model resources.</p>
<h2 id="generated-bindings"><a class="doc-anchor" href="#generated-bindings">§</a>Generated Bindings</h2>
<p>This crate uses <a href="https://docs.rs/wasmtime/latest/wasmtime/component/macro.bindgen.html"><code>wasmtime::component::bindgen!</code></a> to generate bindings for
all WASI interfaces. Raw bindings are available in the <a href="bindings/index.html" title="mod wasmtime_wasi::bindings"><code>bindings</code></a> module
of this crate. Downstream users can either implement these traits themselves
or you can use the built-in implementations in this crate for all
<code>T: WasiVew</code></p>
<h2 id="the-wasiview-trait"><a class="doc-anchor" href="#the-wasiview-trait">§</a>The <code>WasiView</code> trait</h2>
<p>This crate’s implementation of WASI is done in terms of an implementation of
<a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a>. This trait provides a “view” into WASI-related state that is
contained within a <a href="../wasmtime/runtime/store/struct.Store.html" title="struct wasmtime::runtime::store::Store"><code>Store&lt;T&gt;</code></a>. All implementations of
traits look like:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">impl</span>&lt;T: WasiView&gt; bindings::wasi::Host <span class="kw">for </span>T {
    <span class="comment">// ...
</span>}</code></pre></div>
<p>The <a href="fn.add_to_linker_sync.html" title="fn wasmtime_wasi::add_to_linker_sync"><code>add_to_linker_sync</code></a> and <a href="fn.add_to_linker_async.html" title="fn wasmtime_wasi::add_to_linker_async"><code>add_to_linker_async</code></a> function then require
that <code>T: WasiView</code> with <a href="../wasmtime/runtime/component/linker/struct.Linker.html" title="struct wasmtime::runtime::component::linker::Linker"><code>Linker&lt;T&gt;</code></a>.</p>
<p>To implement the <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a> trait you will first select a <code>T</code> to put in
<code>Store&lt;T&gt;</code>. Next you’ll implement the <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a> trait for <code>T</code>. Somewhere
within <code>T</code> you’ll store:</p>
<ul>
<li><a href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx"><code>WasiCtx</code></a> - created through <a href="struct.WasiCtxBuilder.html" title="struct wasmtime_wasi::WasiCtxBuilder"><code>WasiCtxBuilder</code></a>.</li>
<li><a href="../wasmtime/runtime/component/resource_table/struct.ResourceTable.html" title="struct wasmtime::runtime::component::resource_table::ResourceTable"><code>ResourceTable</code></a> - created through default constructors.</li>
</ul>
<p>These two fields are then accessed through the methods of <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a>.</p>
<h2 id="async-and-sync"><a class="doc-anchor" href="#async-and-sync">§</a>Async and Sync</h2>
<p>Many WASI functions are not blocking from WebAssembly’s point of view, but
for those that do they’re provided in two flavors: asynchronous and
synchronous. Which version you will use depends on how
<a href="https://docs.rs/wasmtime/latest/wasmtime/struct.Config.html#method.async_support"><code>Config::async_support</code></a> is set.</p>
<ul>
<li>For non-async users (the default of <code>Config</code>), use <a href="fn.add_to_linker_sync.html" title="fn wasmtime_wasi::add_to_linker_sync"><code>add_to_linker_sync</code></a>.</li>
<li>For async users, use <a href="fn.add_to_linker_async.html" title="fn wasmtime_wasi::add_to_linker_async"><code>add_to_linker_async</code></a>.</li>
</ul>
<p>Note that bindings are generated once for async and once for sync. Most
interfaces do not change, however, so only interfaces with blocking
functions have bindings generated twice. Bindings are organized as:</p>
<ul>
<li><a href="bindings/index.html" title="mod wasmtime_wasi::bindings"><code>bindings</code></a> - default location of all bindings, blocking functions are
<code>async</code></li>
<li><a href="bindings/sync/index.html" title="mod wasmtime_wasi::bindings::sync"><code>bindings::sync</code></a> - blocking interfaces have synchronous versions here.</li>
</ul>
<h2 id="crate-specific-traits"><a class="doc-anchor" href="#crate-specific-traits">§</a>Crate-specific traits</h2>
<p>This crate’s default implementation of WASI bindings to native primitives
for the platform that it is compiled for. For example opening a TCP socket
uses the native platform to open a TCP socket (so long as <a href="struct.WasiCtxBuilder.html" title="struct wasmtime_wasi::WasiCtxBuilder"><code>WasiCtxBuilder</code></a>
allows it). There are a few important traits, however, that are specific to
this crate.</p>
<ul>
<li>
<p><a href="trait.HostInputStream.html" title="trait wasmtime_wasi::HostInputStream"><code>HostInputStream</code></a> and <a href="trait.HostOutputStream.html" title="trait wasmtime_wasi::HostOutputStream"><code>HostOutputStream</code></a> - these are the host traits
behind the WASI <code>input-stream</code> and <code>output-stream</code> types in the
<code>wasi:io/streams</code> interface. These enable embedders to build their own
custom stream and insert them into a <a href="../wasmtime/runtime/component/resource_table/struct.ResourceTable.html" title="struct wasmtime::runtime::component::resource_table::ResourceTable"><code>ResourceTable</code></a> to be used from
wasm.</p>
</li>
<li>
<p><a href="trait.Subscribe.html" title="trait wasmtime_wasi::Subscribe"><code>Subscribe</code></a> - this trait enables building arbitrary logic to get hooked
into a <code>pollable</code> resource from <code>wasi:io/poll</code>. A pollable resource is
created through the <a href="fn.subscribe.html" title="fn wasmtime_wasi::subscribe"><code>subscribe</code></a> function.</p>
</li>
<li>
<p><a href="trait.HostWallClock.html" title="trait wasmtime_wasi::HostWallClock"><code>HostWallClock</code></a> and <a href="trait.HostMonotonicClock.html" title="trait wasmtime_wasi::HostMonotonicClock"><code>HostMonotonicClock</code></a> are used in conjunction with
<a href="struct.WasiCtxBuilder.html#method.wall_clock" title="method wasmtime_wasi::WasiCtxBuilder::wall_clock"><code>WasiCtxBuilder::wall_clock</code></a> and <a href="struct.WasiCtxBuilder.html#method.monotonic_clock" title="method wasmtime_wasi::WasiCtxBuilder::monotonic_clock"><code>WasiCtxBuilder::monotonic_clock</code></a> if
the defaults host’s clock should not be used.</p>
</li>
<li>
<p><a href="trait.StdinStream.html" title="trait wasmtime_wasi::StdinStream"><code>StdinStream</code></a> and <a href="trait.StdoutStream.html" title="trait wasmtime_wasi::StdoutStream"><code>StdoutStream</code></a> are used to provide custom
stdin/stdout streams if they’re not inherited (or null, which is the
default).</p>
</li>
</ul>
<p>These traits enable embedders to customize small portions of WASI interfaces
provided while still providing all other interfaces.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<p>Usage of this crate is done through a few steps to get everything hooked up:</p>
<ol>
<li>First implement <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a> for your type which is the <code>T</code> in
<code>Store&lt;T&gt;</code>.</li>
<li>Add WASI interfaces to a <code>wasmtime::component::Linker&lt;T&gt;</code>. This is either
done through top-level functions like <a href="fn.add_to_linker_sync.html" title="fn wasmtime_wasi::add_to_linker_sync"><code>add_to_linker_sync</code></a> or through
individual <code>add_to_linker</code> functions in generated bindings throughout
this crate.</li>
<li>Create a <a href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx"><code>WasiCtx</code></a> for each <code>Store&lt;T&gt;</code> through <a href="struct.WasiCtxBuilder.html" title="struct wasmtime_wasi::WasiCtxBuilder"><code>WasiCtxBuilder</code></a>. Each
WASI context is “null” or “empty” by default, so items must be explicitly
added to get accessed by wasm (such as env vars or program arguments).</li>
<li>Use the previous <code>Linker&lt;T&gt;</code> to instantiate a <code>Component</code> within a
<code>Store&lt;T&gt;</code>.</li>
</ol>
<p>For examples see each of <a href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView"><code>WasiView</code></a>, <a href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx"><code>WasiCtx</code></a>, <a href="struct.WasiCtxBuilder.html" title="struct wasmtime_wasi::WasiCtxBuilder"><code>WasiCtxBuilder</code></a>,
<a href="fn.add_to_linker_sync.html" title="fn wasmtime_wasi::add_to_linker_sync"><code>add_to_linker_sync</code></a>, and <a href="bindings/struct.Command.html" title="struct wasmtime_wasi::bindings::Command"><code>bindings::Command</code></a>.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.async_trait"><code>pub use async_trait::<a class="attr" href="https://docs.rs/async-trait/0.1.71/async_trait/attr.async_trait.html" title="attr async_trait::async_trait">async_trait</a>;</code></div></li><li><div class="item-name" id="reexport.SystemTimeSpec"><code>pub use cap_fs_ext::SystemTimeSpec;</code></div></li><li><div class="item-name" id="reexport.RngCore"><code>pub use cap_rand::<a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a>;</code></div></li><li><div class="item-name" id="reexport.ResourceTable"><code>pub use wasmtime::component::<a class="struct" href="../wasmtime/runtime/component/resource_table/struct.ResourceTable.html" title="struct wasmtime::runtime::component::resource_table::ResourceTable">ResourceTable</a>;</code></div></li><li><div class="item-name" id="reexport.ResourceTableError"><code>pub use wasmtime::component::<a class="enum" href="../wasmtime/runtime/component/resource_table/enum.ResourceTableError.html" title="enum wasmtime::runtime::component::resource_table::ResourceTableError">ResourceTableError</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bindings/index.html" title="mod wasmtime_wasi::bindings">bindings</a></div></li><li><div class="item-name"><a class="mod" href="pipe/index.html" title="mod wasmtime_wasi::pipe">pipe</a></div><div class="desc docblock-short">Virtual pipes.</div></li><li><div class="item-name"><a class="mod" href="preview0/index.html" title="mod wasmtime_wasi::preview0">preview0</a><span class="stab portability" title="Available on crate feature `preview1` only"><code>preview1</code></span></div><div class="desc docblock-short">Bindings for WASIp0 aka Preview 0 aka <code>wasi_unstable</code>.</div></li><li><div class="item-name"><a class="mod" href="preview1/index.html" title="mod wasmtime_wasi::preview1">preview1</a><span class="stab portability" title="Available on crate feature `preview1` only"><code>preview1</code></span></div><div class="desc docblock-short">Bindings for WASIp1 aka Preview 1 aka <code>wasi_snapshot_preview1</code>.</div></li><li><div class="item-name"><a class="mod" href="runtime/index.html" title="mod wasmtime_wasi::runtime">runtime</a></div><div class="desc docblock-short">This module provides an “ambient Tokio runtime”
<a href="runtime/fn.with_ambient_tokio_runtime.html" title="fn wasmtime_wasi::runtime::with_ambient_tokio_runtime"><code>with_ambient_tokio_runtime</code></a>. Embedders of wasmtime-wasi may do so from
synchronous Rust, and not use tokio directly. The implementation of
wasmtime-wasi requires a tokio executor in a way that is <a href="https://github.com/bytecodealliance/wasmtime/issues/7973#issuecomment-1960513214">deeply tied to
its
design</a>.
When used from a sychrnonous wasmtime context, this module provides the
wrapper function <a href="runtime/fn.in_tokio.html" title="fn wasmtime_wasi::runtime::in_tokio"><code>in_tokio</code></a> used throughout the shim implementations of
synchronous component binding <code>Host</code> traits in terms of the async ones.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AsyncStdinStream.html" title="struct wasmtime_wasi::AsyncStdinStream">AsyncStdinStream</a></div><div class="desc docblock-short">An impl of <a href="trait.StdinStream.html" title="trait wasmtime_wasi::StdinStream"><code>StdinStream</code></a> built on top of <a href="pipe/struct.AsyncReadStream.html" title="struct wasmtime_wasi::pipe::AsyncReadStream"><code>crate::pipe::AsyncReadStream</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.AsyncStdoutStream.html" title="struct wasmtime_wasi::AsyncStdoutStream">AsyncStdoutStream</a></div><div class="desc docblock-short">A wrapper of <a href="pipe/struct.AsyncWriteStream.html" title="struct wasmtime_wasi::pipe::AsyncWriteStream"><code>crate::pipe::AsyncWriteStream</code></a> that implements
<a href="trait.StdoutStream.html" title="trait wasmtime_wasi::StdoutStream"><code>StdoutStream</code></a>. Note that the <a href="trait.HostOutputStream.html" title="trait wasmtime_wasi::HostOutputStream"><code>HostOutputStream</code></a> impl for this is not
correct when used for interleaved async IO.</div></li><li><div class="item-name"><a class="struct" href="struct.Deterministic.html" title="struct wasmtime_wasi::Deterministic">Deterministic</a></div><div class="desc docblock-short">Implement <code>insecure-random</code> using a deterministic cycle of bytes.</div></li><li><div class="item-name"><a class="struct" href="struct.DirPerms.html" title="struct wasmtime_wasi::DirPerms">DirPerms</a></div><div class="desc docblock-short">Permission bits for operating on a directory.</div></li><li><div class="item-name"><a class="struct" href="struct.FileInputStream.html" title="struct wasmtime_wasi::FileInputStream">FileInputStream</a></div></li><li><div class="item-name"><a class="struct" href="struct.FilePerms.html" title="struct wasmtime_wasi::FilePerms">FilePerms</a></div></li><li><div class="item-name"><a class="struct" href="struct.I32Exit.html" title="struct wasmtime_wasi::I32Exit">I32Exit</a></div><div class="desc docblock-short">An error returned from the <code>proc_exit</code> host syscall.</div></li><li><div class="item-name"><a class="struct" href="struct.Network.html" title="struct wasmtime_wasi::Network">Network</a></div></li><li><div class="item-name"><a class="struct" href="struct.Pollable.html" title="struct wasmtime_wasi::Pollable">Pollable</a></div><div class="desc docblock-short">A host representation of the <code>wasi:io/poll.pollable</code> resource.</div></li><li><div class="item-name"><a class="struct" href="struct.Stderr.html" title="struct wasmtime_wasi::Stderr">Stderr</a></div><div class="desc docblock-short">This implementation will yield output streams that block on writes, as they
inherit the implementation directly from the rust std library. A different
implementation of <a href="trait.StdoutStream.html" title="trait wasmtime_wasi::StdoutStream"><code>StdoutStream</code></a> will be necessary if truly async output
streams are required.</div></li><li><div class="item-name"><a class="struct" href="struct.Stdin.html" title="struct wasmtime_wasi::Stdin">Stdin</a></div><div class="desc docblock-short">Only public interface is the <a href="trait.HostInputStream.html" title="trait wasmtime_wasi::HostInputStream"><code>HostInputStream</code></a> impl.</div></li><li><div class="item-name"><a class="struct" href="struct.Stdout.html" title="struct wasmtime_wasi::Stdout">Stdout</a></div><div class="desc docblock-short">This implementation will yield output streams that block on writes, as they
inherit the implementation directly from the rust std library. A different
implementation of <a href="trait.StdoutStream.html" title="trait wasmtime_wasi::StdoutStream"><code>StdoutStream</code></a> will be necessary if truly async output
streams are required.</div></li><li><div class="item-name"><a class="struct" href="struct.TrappableError.html" title="struct wasmtime_wasi::TrappableError">TrappableError</a></div><div class="desc docblock-short">A helper error type used by many other modules through type aliases.</div></li><li><div class="item-name"><a class="struct" href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx">WasiCtx</a></div><div class="desc docblock-short">Per-<a href="../wasmtime/runtime/store/struct.Store.html" title="struct wasmtime::runtime::store::Store"><code>Store</code></a> state which holds state necessary to implement WASI from this
crate.</div></li><li><div class="item-name"><a class="struct" href="struct.WasiCtxBuilder.html" title="struct wasmtime_wasi::WasiCtxBuilder">WasiCtxBuilder</a></div><div class="desc docblock-short">Builder-style structure used to create a <a href="struct.WasiCtx.html" title="struct wasmtime_wasi::WasiCtx"><code>WasiCtx</code></a>.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.InputStream.html" title="enum wasmtime_wasi::InputStream">InputStream</a></div></li><li><div class="item-name"><a class="enum" href="enum.IsATTY.html" title="enum wasmtime_wasi::IsATTY">IsATTY</a></div></li><li><div class="item-name"><a class="enum" href="enum.SocketAddrUse.html" title="enum wasmtime_wasi::SocketAddrUse">SocketAddrUse</a></div><div class="desc docblock-short">The reason what a socket address is being used for.</div></li><li><div class="item-name"><a class="enum" href="enum.StreamError.html" title="enum wasmtime_wasi::StreamError">StreamError</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.HostInputStream.html" title="trait wasmtime_wasi::HostInputStream">HostInputStream</a></div><div class="desc docblock-short">Host trait for implementing the <code>wasi:io/streams.input-stream</code> resource: A
bytestream which can be read from.</div></li><li><div class="item-name"><a class="trait" href="trait.HostMonotonicClock.html" title="trait wasmtime_wasi::HostMonotonicClock">HostMonotonicClock</a></div></li><li><div class="item-name"><a class="trait" href="trait.HostOutputStream.html" title="trait wasmtime_wasi::HostOutputStream">HostOutputStream</a></div><div class="desc docblock-short">Host trait for implementing the <code>wasi:io/streams.output-stream</code> resource:
A bytestream which can be written to.</div></li><li><div class="item-name"><a class="trait" href="trait.HostWallClock.html" title="trait wasmtime_wasi::HostWallClock">HostWallClock</a></div></li><li><div class="item-name"><a class="trait" href="trait.StdinStream.html" title="trait wasmtime_wasi::StdinStream">StdinStream</a></div><div class="desc docblock-short">A trait used to represent the standard input to a guest program.</div></li><li><div class="item-name"><a class="trait" href="trait.StdoutStream.html" title="trait wasmtime_wasi::StdoutStream">StdoutStream</a></div><div class="desc docblock-short">Similar to <a href="trait.StdinStream.html" title="trait wasmtime_wasi::StdinStream"><code>StdinStream</code></a>, except for output.</div></li><li><div class="item-name"><a class="trait" href="trait.Subscribe.html" title="trait wasmtime_wasi::Subscribe">Subscribe</a></div><div class="desc docblock-short">A trait used internally within a <a href="bindings/sync/io/poll/struct.Pollable.html" title="struct wasmtime_wasi::bindings::sync::io::poll::Pollable"><code>Pollable</code></a> to create a <code>pollable</code>
resource in <code>wasi:io/poll</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.WasiView.html" title="trait wasmtime_wasi::WasiView">WasiView</a></div><div class="desc docblock-short">A trait which provides access to internal WASI state.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.add_to_linker_async.html" title="fn wasmtime_wasi::add_to_linker_async">add_to_linker_async</a></div><div class="desc docblock-short">Add all WASI interfaces from this crate into the <code>linker</code> provided.</div></li><li><div class="item-name"><a class="fn" href="fn.add_to_linker_sync.html" title="fn wasmtime_wasi::add_to_linker_sync">add_to_linker_sync</a></div><div class="desc docblock-short">Add all WASI interfaces from this crate into the <code>linker</code> provided.</div></li><li><div class="item-name"><a class="fn" href="fn.stderr.html" title="fn wasmtime_wasi::stderr">stderr</a></div><div class="desc docblock-short">Returns a stream that represents the host’s standard err.</div></li><li><div class="item-name"><a class="fn" href="fn.stdin.html" title="fn wasmtime_wasi::stdin">stdin</a></div><div class="desc docblock-short">Returns a stream that represents the host’s standard input.</div></li><li><div class="item-name"><a class="fn" href="fn.stdout.html" title="fn wasmtime_wasi::stdout">stdout</a></div><div class="desc docblock-short">Returns a stream that represents the host’s standard out.</div></li><li><div class="item-name"><a class="fn" href="fn.subscribe.html" title="fn wasmtime_wasi::subscribe">subscribe</a></div><div class="desc docblock-short">Creates a <code>pollable</code> resource which is susbcribed to the provided
<code>resource</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.thread_rng.html" title="fn wasmtime_wasi::thread_rng">thread_rng</a></div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.ClosureFuture.html" title="type wasmtime_wasi::ClosureFuture">ClosureFuture</a></div></li><li><div class="item-name"><a class="type" href="type.FsError.html" title="type wasmtime_wasi::FsError">FsError</a></div></li><li><div class="item-name"><a class="type" href="type.FsResult.html" title="type wasmtime_wasi::FsResult">FsResult</a></div></li><li><div class="item-name"><a class="type" href="type.MakeFuture.html" title="type wasmtime_wasi::MakeFuture">MakeFuture</a></div></li><li><div class="item-name"><a class="type" href="type.OutputStream.html" title="type wasmtime_wasi::OutputStream">OutputStream</a></div></li><li><div class="item-name"><a class="type" href="type.PollableFuture.html" title="type wasmtime_wasi::PollableFuture">PollableFuture</a></div></li><li><div class="item-name"><a class="type" href="type.SocketError.html" title="type wasmtime_wasi::SocketError">SocketError</a></div></li><li><div class="item-name"><a class="type" href="type.SocketResult.html" title="type wasmtime_wasi::SocketResult">SocketResult</a></div></li><li><div class="item-name"><a class="type" href="type.StreamResult.html" title="type wasmtime_wasi::StreamResult">StreamResult</a></div></li></ul></section></div></main></body></html>